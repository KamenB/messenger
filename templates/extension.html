<!DOCTYPE html>
<html lang="en">
    <head>
        <style>
        input {
            width: 100%;
            height: 100%;
            margin: 0;
        }
        html {
            overflow: hidden;
            padding: 0;
            margin: 0;
        }
        body {
            padding: 0;
            margin: 0;
        }
        </style>
    </head>
    <body>
        <input id="test"></input>
    </body>
    <script src="{{ url_for('static', filename='scripts/cryptico.js') }}"></script>
    <script>
        var PassPhrase = "The Moon is a Harsh Mistress."; 
        var Bits = 1024; 
        var MattsRSAkey = cryptico.generateRSAKey(PassPhrase, Bits);
        var MattsPublicKeyString = cryptico.publicKeyString(MattsRSAkey);

        input = document.getElementById("test");
        input.onkeydown = function(e) {
            var event = window.event ? window.event : e;
            // Send the key code to the parent window
            // ...if the domain is still "messenger.com"
            if (event.keyCode == 13) {
                ciphertext = cryptico.encrypt(input.value, MattsPublicKeyString).cipher;
                parent.postMessage(ciphertext, "*");
                input.value = "";
            }
        };
    </script>
</html>